<!DOCTYPE html>
<html lang="zxx" data-bs-theme="light" xmlns:th="http://www.thymeleaf.org">

<head><!-- metas -->
    <meta charset="utf-8">
    <meta name="author" content="pxdraft">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
    <meta name="keywords" content="ShopApp - eCommerce Bootstrap 5 Template">
    <meta name="description" content="ShopApp - eCommerce Bootstrap 5 Template">
    <!-- title -->
    <title>Fall衣Love</title>
    <!-- Favicon -->
    <link rel="shortcut icon" th:href="@{/logo/favicon.ico}">
    <!-- CSS Template -->
    <th:block th:include="~{frontend/component/plugin/frontendplugin.html :: css}"></th:block>

    <style>
        .error {
            color: red;
            font-style: italic;
        }
    </style>
</head>

<body>
<!-- 通用插件 -->
<th:block th:replace="frontend/component/plugin/frontendplugin :: components"></th:block>
<!-- 通用插件 -->
    <!--
    ========================
        Wrapper
    ========================
    -->
    <div class="wrapper">
        <!-- header height -->
        <div class="header-height-bar" style="min-height: 104.865px;"></div>
        <!-- Header -->
        <header th:replace="frontend/component/header :: header"></header>
        <!-- End Header -->
        <!-- Main -->
        <main>
            <!-- Breadcrumb -->
            <div class="py-3 bg-gray-100">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-lg-6 my-2">
                            <h1 class="m-0 h4 text-center text-lg-start">馬上註冊</h1>
                        </div>
                        <div class="col-lg-6 my-2">
                            <ol class="breadcrumb dark-link m-0 small justify-content-center justify-content-lg-end">
                                <li class="breadcrumb-item"><a class="text-nowrap" th:href="@{/}"><i
                                            class="bi bi-home"></i>首頁</a></li>
                                <li class="breadcrumb-item text-nowrap active" aria-current="page">註冊</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div><!-- End Breadcrumb --><!-- signup page -->
            <div class="section">
                <div class="container">
                    <div class="justify-content-center row">
                        <div class="col-lg-10 col-xxl-6">
                            <div class="card">
                                <div class="card-header bg-transparent py-3">
                                    <h3 class="h4 mb-0">註冊</h3>
                                </div>
                                <div class="card-body">
                                    <form class="form" method="post" th:action="@{addMember}" th:object="${member}" enctype="multipart/form-data">
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group mb-3">
                                                    <label for="name_1" class="form-label">
                                                        姓名
                                                        <span class="text-danger">*</span></label>
                                                    <input type="text" id="name_1" class="form-control" placeholder="請輸入姓名" th:field="*{memName}"/>
                                                    <span th:if="${#fields.hasErrors('memName')}" th:errors="*{memName}" class="error" id="memName.errors"></span>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group mb-3">
                                                    <label for="account_1" class="form-label">
                                                        帳號
                                                        <span class="text-danger">*</span>
                                                    </label>
                                                    <input type="text" id="account_1" class="form-control" placeholder="請輸入帳號" th:field="*{memAcc}"/>
                                                    <span th:if="${#fields.hasErrors('memAcc')}" th:errors="*{memAcc}" class="error" id="memAcc.errors"></span>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group mb-3">
                                                    <label class="form-label col" for="exampleInputPassword_01">
                                                        密碼
                                                        <span class="text-danger">*</span></label>
                                                    <input type="password" class="form-control" id="exampleInputPassword_01" placeholder="*********" th:field="*{memPwd}"/>
                                                    <span th:if="${#fields.hasErrors('memPwd')}" th:errors="*{memPwd}" class="error" id="memPwd.errors"></span>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group mb-3">
                                                    <label class="form-label col" for="mobile_1">
                                                        電話
                                                        <span class="text-danger">*</span></label>
                                                    <input type="text" class="form-control" id="mobile_1" placeholder="請輸入電話，例如：0912345678" th:field="*{memMob}"/>
                                                    <span th:if="${#fields.hasErrors('memMob')}" th:errors="*{memMob}" class="error" id="memMob.errors"></span>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group mb-3">
                                                    <label class="form-label" for="gender">性別 <span class="text-danger">*</span></label>
                                                    <div id="gender" class="form-control">
                                                        <input type="radio" id="male" name="memGender" value="1" th:checked="${member.memGender == 1}"/>
                                                        <label for="male">男性</label>
                                                        <input type="radio" id="female" name="memGender" value="2" th:checked="${member.memGender == 2}"/>
                                                        <label for="female">女性</label>
                                                    </div>
                                                    <span th:if="${#fields.hasErrors('memGender')}" th:errors="*{memGender}" class="error" id="memGender.errors"></span>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group mb-3">
                                                    <label class="form-label col" for="email_1">
                                                        信箱
                                                        <span class="text-danger">*</span></label>
                                                    <input type="email" class="form-control" id="email_1" placeholder="請輸入信箱，例如：xxx@gmail.com" th:field="*{memMail}"/>
                                                    <span th:if="${#fields.hasErrors('memMail')}" th:errors="*{memMail}" class="error" id="memMail.errors"></span>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group mb-3">
                                                    <label class="form-label col" for="date_1">
                                                        生日
                                                        <span class="text-danger">*</span></label>
                                                    <input type="date" class="form-control" id="date_1" placeholder="請輸入生日" th:field="*{memBd}"/>
                                                    <span th:if="${#fields.hasErrors('memBd')}" th:errors="*{memBd}" class="error" id="memBd.errors"></span>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group mb-3">
                                                    <label class="form-label col" for="credit_card">
                                                        信用卡號(非必填)
                                                        <span class="text-danger"></span></label>
                                                    <input type="text" class="form-control" id="credit_card" placeholder="請輸入信用卡卡號" th:field="*{memCard}"/>
                                                    <span th:if="${#fields.hasErrors('memCard')}" th:errors="*{memCard}" class="error" id="memCard.errors"></span>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group mb-3">
                                                    <label class="form-label col" for="country">
                                                        地址
                                                        <span class="text-danger">*</span>
                                                    </label>
                                                    <div class="input-box address">
                                                        <div class="column">
                                                            <div class="select-box dropdown">
                                                                <select name="country" id="country_box" class="form-control">
                                                                    <option value="">選擇縣市</option>
                                                                </select>
                                                            </div>
                                                            <div class="select-box dropdown">
                                                                <select name="district" id="district_box" class="form-control">
                                                                    <option value="">選擇鄉鎮市區</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <input type="text" class="form-control" placeholder="請輸入詳細地址" th:field="*{memAdd}" id="country"/>
                                                        <span th:if="${#fields.hasErrors('memAdd')}" th:errors="*{memAdd}" class="error" id="memAdd.errors"></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group mb-3">
                                                    <label class="form-label col" for="picture_1">
                                                        選擇會員大頭貼(非必要)
                                                        <span class="text-danger"></span></label>
                                                    <input type="file" name="memPic" th:field="*{memPic}" class="form-control" id="picture_1"/>
<!--                                                    <span th:if="${#fields.hasErrors('memPic')}" th:errors="*{memPic}" class="error" id="memPic.errors"></span>-->
                                                </div>
                                                <div id="preview"></div>
                                                <div class="form-check mb-4"><input class="form-check-input" type="checkbox"
                                                                                    value="" id="form2Example3" checked="checked">
                                                    <label class="form-check-label" for="form2Example3">我已閱讀並接受條款。</label>
                                                </div>
                                                <div class="col">
                                                    <button type="submit" class="btn btn-primary">創建帳號</button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group row align-items-center">
                                            <div class="col-12 col-sm text-sm-end mt-3 mt-sm-0">
                                                <span class="text-muted">
                                                    已經有帳號?
                                                    <a th:href="@{/frontend/member/loginMember}">
                                                        點此登入</a></span></div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- end signup -->
        </main>
        <!-- End Main -->
        <!-- Footer -->
        <footer th:replace="frontend/component/footer :: footer"></footer>
        <!-- End Footer -->
    </div>
    <!--
    ========================
       End Wrapper
    ========================
    -->
    <!-- script start -->
    <th:block th:insert="~{frontend/component/plugin/frontendplugin.html :: js}"></th:block>
    <!-- End script start -->
    <script th:src="@{/js/backend/rentapp/addRentApp.js}"></script>

    <!-- 此為預覽圖片的 js -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var fileInput = document.getElementById('picture_1');
            var preview = document.getElementById('preview');

            fileInput.addEventListener('change', function() {
                var file = this.files[0];
                var reader = new FileReader();

                reader.onload = function() {
                    var img = document.createElement('img');
                    img.src = reader.result;
                    img.style.maxWidth = '20%';
                    img.style.maxHeight = '20%';
                    preview.innerHTML = '';
                    preview.appendChild(img);
                };

                if (file) {
                    reader.readAsDataURL(file);
                } else {
                    preview.innerHTML = '未選擇圖片';
                }
            });
        });
    </script>
</body>

</html>