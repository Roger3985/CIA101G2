<!DOCTYPE html>
<html lang="zxx" data-bs-theme="light" xmlns:th="http://www.thymeleaf.org">

<head><!-- metas -->
    <meta charset="utf-8">
    <meta name="author" content="pxdraft">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
    <meta name="keywords" content="ShopApp - eCommerce Bootstrap 5 Template">
    <meta name="description" content="ShopApp - eCommerce Bootstrap 5 Template">
    <!-- title -->
    <title>ShopApp - eCommerce Bootstrap 5 Template</title>
    <!-- Favicon -->
    <link rel="shortcut icon" th:href="@{/logo/favicon.ico}">
    <!-- CSS Template -->
    <th:block th:include="~{frontend/component/plugin/frontendplugin.html :: css}"></th:block>
</head>

<body>
<!-- 通用插件 -->
<th:block th:replace="frontend/component/plugin/frontendplugin :: components"></th:block>
<!-- 通用插件 -->
    <!--
    ========================
        Wrapper
    ========================
    -->
    <div class="wrapper">
        <!-- header height -->
        <div class="header-height-bar" style="min-height: 104.865px;"></div>
        <!-- Header -->
        <header th:replace="frontend/component/header :: header"></header>
        <!-- End Header -->
        <!-- Main -->
        <main>
            <!-- Breadcrumb -->
            <div class="py-3 bg-gray-100">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-lg-6 my-2">
                            <h1 class="m-0 h4 text-center text-lg-start">Blog</h1>
                        </div>
                        <div class="col-lg-6 my-2">
                            <ol class="breadcrumb dark-link m-0 small justify-content-center justify-content-lg-end">
                                <li class="breadcrumb-item">
                                    <a class="text-nowrap" th:href="@{/}">
                                        <i class="bi bi-home"></i>Home</a></li>
                                <li class="breadcrumb-item text-nowrap active" aria-current="page">Blog</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End Breadcrumb -->
            <!-- blog -->
            <div class="py-6">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-8">
                            <div class="row" th:unless="${session.loginsuccess}">
                                <div class="col-lg-6 my-3" th:each="columnarticle : ${columnArticlePage}" th:if="${columnarticle.artStat == 0}">
                                    <a th:href="@{/frontend/columnarticle/oneColumnArticle(artNo=${columnarticle.artNo})}">
                                        <h2 th:text="${columnarticle.artTitle}"></h2>
                                    </a>
                                    <p th:text="${columnarticle.artContent}"></p>
                                    <i class="bi bi-heart likeButton me-2" style="cursor: pointer;"></i>
                                    <i class="bi bi-chat-dots columnreplyButton me-2" style="cursor: pointer;"></i>
                                    <i class="bi bi-clipboard-heart articlecollectionButton" style="cursor: pointer;"></i>
                                    <!-- 其他文章相關數據渲染 -->
                                </div>
                                <div id="messageContainer1" style="text-align: center; margin: 20px;">
                                    <p th:text="${message}" id="messageText1" style="
                                        color: #dc3545;
                                        font-weight: bold;
                                        font-size: 1.2em;
                                        padding: 10px;
                                        border: 1px solid #dc3545;
                                        border-radius: 5px;
                                        background-color: #f8d7da;
                                        margin: 10px 0;
                                        opacity: 0;
                                        transform: translateY(-20px);
                                        display: inline-block;
                                        transition: opacity 0.5s, transform 0.5s;
                                    "></p> <!-- 在這裡顯示訊息 -->
                                    <br>
                                    <a th:if="${message != null}" href="/frontend/columnarticle/listAllColumnArticle" style="
                                        display: inline-block;
                                        padding: 10px 20px;
                                        margin-top: 10px;
                                        background-color: #007bff;
                                        color: white;
                                        text-decoration: none;
                                        border-radius: 5px;
                                        transition: background-color 0.3s ease, transform 0.3s ease;
                                    " onmouseover="this.style.backgroundColor='#0056b3'; this.style.transform='scale(1.05)';" onmouseout="this.style.backgroundColor='#007bff'; this.style.transform='scale(1)';">Go back to Articles</a>
                                </div><!-- 在這裡顯示訊息 -->
                            </div>
                            <div class="row" th:if="${session.loginsuccess}">
                                <div class="col-lg-6 my-3" th:each="columnarticle : ${columnArticlePage}" th:if="${columnarticle.artStat == 0}">
                                    <a th:href="@{/frontend/columnarticle/oneColumnArticle(artNo=${columnarticle.artNo})}">
                                        <h2 th:text="${columnarticle.artTitle}"></h2>
                                    </a>
                                    <p th:text="${columnarticle.artContent}"></p>
<!--                                    <th:block th:each="clicklike: ${session.clickLikeList}">-->
<!--                                        <i class="bi bi-heart-fill me-2" th:if="${clicklike.columnArticle.artNo != columnarticle.artNo}" th:onclick="'likeArticle(' + ${session.loginsuccess.memNo} + ', ' + ${columnarticle.artNo} + ')'" style="cursor: pointer;"></i>-->
<!--                                    </th:block>-->
                                    <i class="bi bi-heart me-2" th:text="${likeCounts[columnarticle.artNo]}" th:unless="${session.likedArtNoList.contains(columnarticle.artNo)}" th:onclick="'likeArticle(' + ${session.loginsuccess.memNo} + ', ' + ${columnarticle.artNo} + ')'" style="cursor: pointer;"></i>
                                    <i class="bi bi-heart-fill me-2" id="unLikeIcon" th:text="${likeCounts[columnarticle.artNo]}" th:if="${session.likedArtNoList.contains(columnarticle.artNo)}" th:onclick="'unLikeArticle(' + ${session.loginsuccess.memNo} + ', ' + ${columnarticle.artNo} + ')'" style="cursor: pointer;"></i>
                                    <i class="bi bi-chat-dots me-2" th:onclick="'showCommentInputModal(' + ${session.loginsuccess.memNo} + ', ' + ${columnarticle.artNo} + ')'" style="cursor: pointer;"></i>
                                    <i class="bi bi-clipboard-heart me-2" th:unless="${session.articleCollections.contains(columnarticle.artNo)}" th:onclick="'columnArticleCollection(' + ${session.loginsuccess.memNo} + ', ' + ${columnarticle.artNo} + ')'" style="cursor: pointer;"></i>
                                    <i class="bi bi-clipboard-heart-fill" th:if="${session.articleCollections.contains(columnarticle.artNo)}" th:onclick="'unColumnArticleCollection(' + ${session.loginsuccess.memNo} + ', ' + ${columnarticle.artNo} + ')'" style="cursor: pointer;"></i>
                                    <!-- 其他文章相關數據渲染 -->
                                </div>
                                <div id="messageContainer2" style="text-align: center; margin: 20px;">
                                    <p th:text="${message}" id="messageText2" style="
                                        color: #dc3545;
                                        font-weight: bold;
                                        font-size: 1.2em;
                                        padding: 10px;
                                        border: 1px solid #dc3545;
                                        border-radius: 5px;
                                        background-color: #f8d7da;
                                        margin: 10px 0;
                                        opacity: 0;
                                        transform: translateY(-20px);
                                        display: inline-block;
                                        transition: opacity 0.5s, transform 0.5s;
                                    "></p> <!-- 在這裡顯示訊息 -->
                                    <br>
                                    <a th:if="${message != null}" href="/frontend/columnarticle/listAllColumnArticle" style="
                                        display: inline-block;
                                        padding: 10px 20px;
                                        margin-top: 10px;
                                        background-color: #007bff;
                                        color: white;
                                        text-decoration: none;
                                        border-radius: 5px;
                                        transition: background-color 0.3s ease, transform 0.3s ease;
                                    " onmouseover="this.style.backgroundColor='#0056b3'; this.style.transform='scale(1.05)';" onmouseout="this.style.backgroundColor='#007bff'; this.style.transform='scale(1)';">Go back to Articles</a>
                                </div><!-- 在這裡顯示訊息 -->
                            </div>
                            <!-- 分頁(一頁 10 篇專欄文章) -->
                            <ul class="pagination justify-content-center mt-6" th:if="${message == null}">
                                <li class="page-item" th:classappend="${!columnArticlePage.hasPrevious()} ? 'disabled'">
                                    <a class="page-link" th:href="@{/frontend/columnarticle/listAllColumnArticle(page=${columnArticlePage.number - 1}, size=${columnArticlePage.size})}" aria-label="Previous">
                                        <span aria-hidden="true">«</span>
                                    </a>
                                </li>
                                <li class="page-item" th:each="i : ${#numbers.sequence(1, columnArticlePage.totalPages)}" th:classappend="${i == columnArticlePage.number + 1} ? 'active'">
                                    <a class="page-link" th:href="@{/frontend/columnarticle/listAllColumnArticle(page=${i - 1}, size=${columnArticlePage.size})}" th:text="${i}">1</a>
                                </li>
                                <li class="page-item" th:classappend="${!columnArticlePage.hasNext()} ? 'disabled'">
                                    <a class="page-link" th:href="@{/frontend/columnarticle/listAllColumnArticle(page=${columnArticlePage.number + 1}, size=${columnArticlePage.size})}" aria-label="Next">
                                        <span aria-hidden="true">»</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="col-lg-4 my-3 ps-xl-9">
                            <div class="card">
                                <div class="card-header bg-transparent border-bottom p-3"><span
                                        class="h5 m-0">Search</span>
                                </div>
                                <div class="card-body p-3">
                                    <form class="d-flex input-group" th:action="@{/frontend/columnarticle/searchArticles}">
                                        <input type="text" name="keyword" class="form-control" placeholder="Search">
                                        <button class="btn btn-primary flex-shrink-0" type="submit">
                                            <i class="fi-search"></i></button>
                                    </form>
                                </div>
                            </div>
                            <div class="card mt-5">
                                <div class="card-header bg-transparent border-bottom p-3"><span
                                        class="h5 m-0">Categories</span></div>
                                <div class="list-group list-group-flush"><a href="#"
                                        class="list-group-item list-group-item-action d-flex justify-content-between py-3">
                                        <div><span>Theme integration</span></div>
                                        <div><i class="bi bi-chevron-right"></i></div>
                                    </a><a href="#"
                                        class="list-group-item list-group-item-action d-flex justify-content-between py-3">
                                        <div><span>Customization</span></div>
                                        <div><i class="bi bi-chevron-right"></i></div>
                                    </a><a href="#"
                                        class="list-group-item list-group-item-action d-flex justify-content-between py-3">
                                        <div><span>Fonts and colors</span></div>
                                        <div><i class="bi bi-chevron-right"></i></div>
                                    </a><a href="#"
                                        class="list-group-item list-group-item-action d-flex justify-content-between py-3">
                                        <div><span>Updates</span></div>
                                        <div><i class="bi bi-chevron-right"></i></div>
                                    </a><a href="#"
                                        class="list-group-item list-group-item-action d-flex justify-content-between py-3">
                                        <div><span>Premium support</span></div>
                                        <div><i class="bi bi-chevron-right"></i></div>
                                    </a></div>
                            </div>
                            <div class="card mt-5">
                                <div class="card-header bg-transparent border-bottom p-3"><span class="h5 m-0">Recent
                                        Posts</span></div>
                                <div class="list-group list-group-flush"><a href="#"
                                        class="list-group-item list-group-item-action d-flex py-3">
                                        <div class="avatar rounded overflow-hidden"><img class="img-fluid"
                                                src="../../assets/img/pages/avatar-1.jpg" title="" alt=""></div>
                                        <div class="ps-3">
                                            <p class="m-0 font-w-500">How to make trust your competitive
                                                advantage</p>
                                        </div>
                                    </a><a href="#" class="list-group-item list-group-item-action d-flex py-3">
                                        <div class="avatar rounded overflow-hidden"><img class="img-fluid"
                                                src="../../assets/img/pages/avatar-2.jpg" title="" alt=""></div>
                                        <div class="ps-3">
                                            <p class="m-0 font-w-500">How to make trust your competitive
                                                advantage</p>
                                        </div>
                                    </a><a href="#" class="list-group-item list-group-item-action d-flex py-3">
                                        <div class="avatar rounded overflow-hidden"><img class="img-fluid"
                                                src="../../assets/img/pages/avatar-3.jpg" title="" alt=""></div>
                                        <div class="ps-3">
                                            <p class="m-0 font-w-500">How to make trust your competitive
                                                advantage</p>
                                        </div>
                                    </a><a href="#" class="list-group-item list-group-item-action d-flex py-3">
                                        <div class="avatar rounded overflow-hidden"><img class="img-fluid"
                                                src="../../assets/img/pages/avatar-4.jpg" title="" alt=""></div>
                                        <div class="ps-3">
                                            <p class="m-0 font-w-500">How to make trust your competitive
                                                advantage</p>
                                        </div>
                                    </a></div>
                            </div>
                            <div class="card mt-5">
                                <div class="card-header bg-transparent border-bottom p-3"><span
                                        class="h5 m-0">Tags</span>
                                </div>
                                <div class="card-body p-3">
                                    <div class="nav tag-cloud">
                                        <a class="rounded-pill px-3 small font-w-500 py-1 bg-gray-200 me-1 mb-1 text-mode"
                                           th:href="@{/frontend/columnarticle/searchArticles(keyword='婚紗')}"
                                           style="font-family: Arial, sans-serif; font-size: 14px; color: #333; text-decoration: none;">婚紗</a>
                                        <a class="rounded-pill px-3 small font-w-500 py-1 bg-gray-200 me-1 mb-1 text-mode"
                                           th:href="@{/frontend/columnarticle/searchArticles(keyword='婚紗店')}"
                                           style="font-family: Arial, sans-serif; font-size: 14px; color: #333; text-decoration: none;">婚紗店</a>
                                        <a class="rounded-pill px-3 small font-w-500 py-1 bg-gray-200 me-1 mb-1 text-mode"
                                           th:href="@{/frontend/columnarticle/searchArticles(keyword='婚禮主題')}"
                                           style="font-family: Arial, sans-serif; font-size: 14px; color: #333; text-decoration: none;">婚禮主題</a>
                                        <a class="rounded-pill px-3 small font-w-500 py-1 bg-gray-200 me-1 mb-1 text-mode"
                                           th:href="@{/frontend/columnarticle/searchArticles(keyword='婚禮籌備')}"
                                           style="font-family: Arial, sans-serif; font-size: 14px; color: #333; text-decoration: none;">婚禮籌備</a>
                                        <a class="rounded-pill px-3 small font-w-500 py-1 bg-gray-200 me-1 mb-1 text-mode"
                                           th:href="@{/frontend/columnarticle/searchArticles(keyword='婚禮場地')}"
                                           style="font-family: Arial, sans-serif; font-size: 14px; color: #333; text-decoration: none;">婚禮場地</a>
                                        <a class="rounded-pill px-3 small font-w-500 py-1 bg-gray-200 me-1 mb-1 text-mode"
                                           th:href="@{/frontend/columnarticle/searchArticles(keyword='婚禮攝影師')}"
                                           style="font-family: Arial, sans-serif; font-size: 14px; color: #333; text-decoration: none;">婚禮攝影師</a>
                                        <a class="rounded-pill px-3 small font-w-500 py-1 bg-gray-200 me-1 mb-1 text-mode"
                                           th:href="@{/frontend/columnarticle/searchArticles(keyword='男士婚禮穿搭')}"
                                           style="font-family: Arial, sans-serif; font-size: 14px; color: #333; text-decoration: none;">男士婚禮穿搭</a>
                                        <a class="rounded-pill px-3 small font-w-500 py-1 bg-gray-200 me-1 mb-1 text-mode"
                                           th:href="@{/frontend/columnarticle/searchArticles(keyword='流行趨勢')}"
                                           style="font-family: Arial, sans-serif; font-size: 14px; color: #333; text-decoration: none;">流行趨勢</a>
<!--                                        <a class="rounded-pill px-3 small font-w-500 py-1 bg-gray-200 me-1 mb-1 text-mode"-->
<!--                                            href="#">Development</a> <a-->
<!--                                            class="rounded-pill px-3 small font-w-500 py-1 bg-gray-200 me-1 mb-1 text-mode"-->
<!--                                            href="#">Travel</a> <a-->
<!--                                            class="rounded-pill px-3 small font-w-500 py-1 bg-gray-200 me-1 mb-1 text-mode"-->
<!--                                            href="#">Web Design</a> <a-->
<!--                                            class="rounded-pill px-3 small font-w-500 py-1 bg-gray-200 me-1 mb-1 text-mode"-->
<!--                                            href="#">Marketing</a> <a-->
<!--                                            class="rounded-pill px-3 small font-w-500 py-1 bg-gray-200 me-1 mb-1 text-mode"-->
<!--                                            href="#">Research</a> <a-->
<!--                                            class="rounded-pill px-3 small font-w-500 py-1 bg-gray-200 me-1 mb-1 text-mode"-->
<!--                                            href="#">Managment</a></div>-->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- blog end -->
        </main>
        <!-- End Main -->
        <!-- Footer -->
        <footer th:replace="frontend/component/footer :: footer"></footer>
        <!-- End Footer -->
    </div>
    <!--
    ========================
       End Wrapper
    ========================
    -->
    <!-- script start -->
    <th:block th:insert="~{frontend/component/plugin/frontendplugin.html :: js}"></th:block>
    <!-- End script start -->
    <!-- 點讚登入提醒模態框 -->
    <div class="modal fade" id="loginReminderModal" tabindex="-1" aria-labelledby="loginReminderModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="loginReminderModalLabel">未登入提醒</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>您尚未登入，無法點讚。請先登入您的帳戶。</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">關閉</button>
                    <a href="/frontend/member/loginMember" class="btn btn-primary">立即登入</a>
                </div>
            </div>
        </div>
    </div>
    <!-- End 登入提醒模態框 -->
    <!-- 留言登入提醒模態框 -->
    <div class="modal fade" id="loginColumnReplyReminderModal" tabindex="-1" aria-labelledby="loginReminderModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="loginColumnReplyReminderModalLabel">未登入提醒</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>您尚未登入，無法留言。請先登入您的帳戶。</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">關閉</button>
                    <a href="/frontend/member/loginMember" class="btn btn-primary">立即登入</a>
                </div>
            </div>
        </div>
    </div>
    <!-- End 登入提醒模態框 -->
    <!-- 留言登入提醒模態框 -->
    <div class="modal fade" id="loginArticleCollectionReminderModal" tabindex="-1" aria-labelledby="loginReminderModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="loginArticleCollectionReplyReminderModalLabel">未登入提醒</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>您尚未登入，無法收藏。請先登入您的帳戶。</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">關閉</button>
                    <a href="/frontend/member/loginMember" class="btn btn-primary">立即登入</a>
                </div>
            </div>
        </div>
    </div>
    <!-- End 登入提醒模態框 -->
    <!-- 點讚成功模態框結構 -->
    <div class="modal" id="likeModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">點讚成功</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>您已成功點讚該文章。</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">關閉</button>
                </div>
            </div>
        </div>
    </div>
    <!-- 重複點讚導致點讚失敗提示模態框結構 -->
    <div class="modal" id="errorModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">重複點讚</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <!--                    <p>已點讚過，請勿重複點讚。</p>-->
                    <p>已再次收到你的點讚，感謝支持。</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">關閉</button>
                </div>
            </div>
        </div>
    </div>
    <!-- 取消點讚模態框結構 -->
    <div class="modal" id="unLikeModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">取消點讚</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>您已取消點讚。</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">關閉</button>
                </div>
            </div>
        </div>
    </div>
    <!-- 取消點讚失敗模態框結構 -->
    <div class="modal" id="unErrorModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">取消點讚失敗</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>取消點讚操作失敗，請重試。</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">關閉</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="columnArticleCollectionModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">收藏成功</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>您已成功收藏該文章。</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">關閉</button>
                </div>
            </div>
        </div>
    </div>
    <!-- 重複收藏導致收藏失敗提示模態框結構 -->
    <div class="modal" id="columnArticleCollectionErrorModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">收藏失敗</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>已收藏過，請勿重複收藏，請到收藏區，取消收藏。</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">關閉</button>
                </div>
            </div>
        </div>
    </div>
    <!-- 取消收藏模態框結構 -->
    <div class="modal" id="unColumnArticleCollectionModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">取消收藏</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>您已取消收藏。</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">關閉</button>
                </div>
            </div>
        </div>
    </div>
    <!-- 取消收藏失敗模態框結構 -->
    <div class="modal" id="unColumnArticleCollectionErrorModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">取消收藏失敗</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>取消收藏操作失敗，請重試。</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">關閉</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 留言輸入模態框 -->
    <div class="modal fade" id="commentInputModal" tabindex="-1" role="dialog" aria-labelledby="commentInputModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="commentInputModalLabel">留言</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <textarea id="commentInput" class="form-control" placeholder="請輸入留言內容" rows="4"></textarea>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button>
                    <button type="button" id="submitComment" class="btn btn-primary">提交</button>
                </div>
            </div>
        </div>
    </div>





</body>
<!-- script start -->

<script>
    // 定義點讚的函數，接收文章编號作為參數
    function likeArticle(memNo, artNo) {

        // 如果用戶已登入
        // 發送POST請求，將文章編號作為URL的一部分
        fetch(`/frontend/columnarticle/like/${memNo}/${artNo}`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            // 如果需要帶上身份驗證信息，可以在這裡設置
            credentials: 'include'
        })
            .then(response => {
                if (response.ok) {
                    // 成功處理後的操作，例如更新界面顯示
                    $('#likeModal').modal('show'); // 顯示模態框

                    // 監聽模態框關閉事件
                    $('#likeModal').on('hidden.bs.modal', function () {
                        // 模態框關閉後重新加載頁面
                        location.reload();
                    });

                    // 綁定右上角叉叉按鈕的點擊事件
                    $('.close').click(function() {
                        // 關閉所屬的模態框
                        $(this).closest('.modal').modal('hide');
                    });
                    // 綁定關閉按鈕的點擊事件
                    $('.modal-footer .btn-secondary').click(function() {
                        // 關閉所屬的模態框
                        $(this).closest('.modal').modal('hide');
                    });
                    // 請求成功，處理成功響應
                    return response.text(); // 返回成功消息
                } else {
                    // 錯誤處理，顯示點讚失敗的模態框
                    $('#errorModal').modal('show');
                    // 綁定右上角叉叉按鈕的點擊事件
                    $('.close').click(function() {
                        // 關閉所屬的模態框
                        $(this).closest('.modal').modal('hide');
                    });
                    // 綁定關閉按鈕的點擊事件
                    $('.modal-footer .btn-secondary').click(function() {
                        // 關閉所屬的模態框
                        $(this).closest('.modal').modal('hide');
                    });
                    // 請求失敗，處理錯誤響應
                    return response.text(); // 返回失敗消息
                }
            })
            .then(data => {
                // 成功處理後的操作，例如更新界面顯示
                console.log(data); // 打印成功消息
            })
            .catch(error => {
                // 錯誤處理，例如顯示錯誤信息給用戶
                console.error(error.message); // 打印錯誤消息
            });
    }
</script>
<script>
    // 定義取消點讚的函數，接收會員編號和文章編號作為參數
    function unLikeArticle(memNo, artNo) {
        const unLikeIcon = document.getElementById("unLikeIcon");

        // 發送POST請求，將會員編號和文章編號作為URL的一部分
        fetch(`/frontend/columnarticle/unlike/${memNo}/${artNo}`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            // 如果需要帶上身份驗證信息，可以在這裡設置
            credentials: 'include'
        })
            .then(response => {
                if (response.ok) {
                    // 成功處理後的操作，例如更新界面顯示
                    $('#unLikeModal').modal('show'); // 顯示模態框

                    // 監聽模態框關閉事件
                    $('#unLikeModal').on('hidden.bs.modal', function () {
                        // 模態框關閉後重新加載頁面
                        location.reload();
                        // 部分刷新頁面，僅刷新愛心圖標
                        // unLikeIcon.classList.remove('bi-heart-fill');
                        // unLikeIcon.classList.add('bi-heart');
                    });

                    // 綁定右上角叉叉按鈕的點擊事件
                    $('.close').click(function() {
                        // 關閉所屬的模態框
                        $(this).closest('.modal').modal('hide');
                    });
                    // 綁定關閉按鈕的點擊事件
                    $('.modal-footer .btn-secondary').click(function() {
                        // 關閉所屬的模態框
                        $(this).closest('.modal').modal('hide');
                    });
                    // 請求成功，處理成功響應
                    return response.text(); // 返回成功消息
                } else {
                    // 錯誤處理，顯示點讚失敗的模態框
                    $('#unErrorModal').modal('show');
                    // 綁定右上角叉叉按鈕的點擊事件
                    $('.close').click(function() {
                        // 關閉所屬的模態框
                        $(this).closest('.modal').modal('hide');
                    });
                    // 綁定關閉按鈕的點擊事件
                    $('.modal-footer .btn-secondary').click(function() {
                        // 關閉所屬的模態框
                        $(this).closest('.modal').modal('hide');
                    });
                    // 請求失敗，處理錯誤響應
                    return response.text(); // 返回失敗消息
                }
            })
            .then(data => {
                // 成功處理後的操作，例如更新界面顯示
                console.log(data); // 打印成功消息
            })
            .catch(error => {
                // 錯誤處理，例如顯示錯誤信息給用戶
                console.error(error.message); // 打印錯誤消息
            });
    }
</script>
<script>
    //定義收藏的函數，接收文章編號作為參數
    function columnArticleCollection(memNo, artNo) {

        // 如果用戶已登入
        // 發送 POST 請求，將文章編號作為 URL 的一部分
        fetch(`/frontend/columnarticle/columnArticleCollection/${memNo}/${artNo}`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            // 如果需要帶上身份驗證信息，可以在這裡設置
            credentials: 'include'
        })
            .then(response => {
                if (response.ok) {
                    // 成功處理後的操作，例如更新界面顯示
                    $('#columnArticleCollectionModal').modal('show'); // 顯示模態框

                    // 監聽模態框關閉事件
                    $('#columnArticleCollectionModal').on('hidden.bs.modal', function () {
                        // 模態框關閉後重新加載頁面
                        location.reload();
                    });

                    // 綁定右上角叉叉按鈕的點擊事件
                    $('.close').click(function() {
                        // 關閉所屬的模態框
                        $(this).closest('.modal').modal('hide');
                    });
                    // 綁定關閉按鈕的點擊事件
                    $('.modal-footer .btn-secondary').click(function() {
                        // 關閉所屬的模態框
                        $(this).closest('.modal').modal('hide');
                    });
                    // 請求成功，處理成功響應
                    return response.text(); // 返回成功消息
                } else {
                    // 錯誤處理，顯示點讚失敗的模態框
                    $('#columnArticleCollectionErrorModal').modal('show');
                    // 綁定右上角叉叉按鈕的點擊事件
                    $('.close').click(function() {
                        // 關閉所屬的模態框
                        $(this).closest('.modal').modal('hide');
                    });
                    // 綁定關閉按鈕的點擊事件
                    $('.modal-footer .btn-secondary').click(function() {
                        // 關閉所屬的模態框
                        $(this).closest('.modal').modal('hide');
                    });
                    // 請求失敗，處理錯誤響應
                    return response.text(); // 返回失敗消息
                }
            })
            .then(data => {
                // 成功處理後的操作，例如更新界面顯示
                console.log(data); // 打印成功消息
            })
            .catch(error => {
                // 錯誤處理，例如顯示錯誤信息給用戶
                console.error(error.message); // 打印錯誤消息
            });
    }
</script>
<script>
    // 定義取消收藏的函數，接收會員編號和文章編號作為參數
    function unColumnArticleCollection(memNo, artNo) {
        const unCollection = document.getElementById("unArticeCollection");

        // 發送POST請求，將會員編號和文章編號作為URL的一部分
        fetch(`/frontend/columnarticle/unColumnArticleCollection/${memNo}/${artNo}`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            // 如果需要帶上身份驗證信息，可以在這裡設置
            credentials: 'include'
        })
            .then(response => {
                if (response.ok) {
                    // 成功處理後的操作，例如更新界面顯示
                    $('#unColumnArticleCollectionModal').modal('show'); // 顯示模態框

                    // 監聽模態框關閉事件
                    $('#unColumnArticleCollectionModal').on('hidden.bs.modal', function () {
                        // 模態框關閉後重新加載頁面
                        location.reload();
                        // 部分刷新頁面，僅刷新愛心圖標
                        // unCollection.classList.remove('bi bi-clipboard2-heart-fill');
                        // unCollection.classList.add('bi bi-clipboard2-heart');
                    });

                    // 綁定右上角叉叉按鈕的點擊事件
                    $('.close').click(function() {
                        // 關閉所屬的模態框
                        $(this).closest('.modal').modal('hide');
                    });
                    // 綁定關閉按鈕的點擊事件
                    $('.modal-footer .btn-secondary').click(function() {
                        // 關閉所屬的模態框
                        $(this).closest('.modal').modal('hide');
                    });
                    // 請求成功，處理成功響應
                    return response.text(); // 返回成功消息
                } else {
                    // 錯誤處理，顯示點讚失敗的模態框
                    $('#unColumnArticleCollectionErrorModal').modal('show');
                    // 綁定右上角叉叉按鈕的點擊事件
                    $('.close').click(function() {
                        // 關閉所屬的模態框
                        $(this).closest('.modal').modal('hide');
                    });
                    // 綁定關閉按鈕的點擊事件
                    $('.modal-footer .btn-secondary').click(function() {
                        // 關閉所屬的模態框
                        $(this).closest('.modal').modal('hide');
                    });
                    // 請求失敗，處理錯誤響應
                    return response.text(); // 返回失敗消息
                }
            })
            .then(data => {
                // 成功處理後的操作，例如更新界面顯示
                console.log(data); // 打印成功消息
            })
            .catch(error => {
                // 錯誤處理，例如顯示錯誤信息給用戶
                console.error(error.message); // 打印錯誤消息
            });
    }
</script>
<script>
    $(document).ready(function() {
        // 當文檔加載完成時
        // 將點擊事件綁定到喜歡按鈕
        $('.likeButton').click(function() {
            // 當用戶未登錄時，彈出登錄提醒模態框
            $('#loginReminderModal').modal('show');
        });

        // 將點擊事件綁定到關閉按鈕
        $("#loginReminderModal .close, #loginReminderModal .modal-footer .btn-secondary").click(function () {
            $("#loginReminderModal").modal("hide"); // 隱藏模態框
        });
    });
</script>
<script>
    $(document).ready(function() {
        // 當文檔加載完成時
        // 將點擊事件綁定到文章回覆按鈕
        $('.columnreplyButton').click(function() {
            // 當用戶未登錄時，彈出登錄提醒模態框
            $('#loginColumnReplyReminderModal').modal('show');
        });

        // 將點擊事件綁定到關閉按鈕
        $("#loginColumnReplyReminderModal .close, #loginColumnReplyReminderModal .modal-footer .btn-secondary").click(function () {
            $("#loginColumnReplyReminderModal").modal("hide"); // 隱藏模態框
        });
    });
</script>
<script>
    $(document).ready(function() {
        // 當文檔加載完成時
        // 將點擊事件綁定到文章收藏按鈕
        $('.articlecollectionButton').click(function() {
            // 當用戶未登錄時，彈出登錄提醒模態框
            $('#loginArticleCollectionReminderModal').modal('show');
        });

        // 將點擊事件綁定到關閉按鈕
        $("#loginArticleCollectionReminderModal .close, #loginArticleCollectionReminderModal .modal-footer .btn-secondary").click(function () {
            $("#loginArticleCollectionReminderModal").modal("hide"); // 隱藏模態框
        });
    });
</script>
<script>
    function openModal() {
        var modal = document.getElementById("myModal");
        modal.style.display = "block";
    }

    function closeModal() {
        var modal = document.getElementById("myModal");
        modal.style.display = "none";
    }

    function sendMessage() {
        var messageInput = document.getElementById("messageInput");
        var message = messageInput.value;
        // 在這裡執行發送消息的操作，可以是 Ajax 請求等
        console.log("發送的消息：", message);
        // 清空輸入框並隱藏模態
        messageInput.value = "";
        closeModal();
    }

    // 當用戶點擊模態之外的區域，關閉模態
    window.onclick = function(event) {
        var modal = document.getElementById("myModal");
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
</script>
<script>
    // 顯示模態框的函數
    function showCommentInputModal(memNo, artNo) {
        $('#commentInputModal').modal('show');
        // 將memNo和artNo設置為隱藏的input元素的值
        document.getElementById('memNo').value = memNo;
        document.getElementById('artNo').value = artNo;
    }

    document.addEventListener('DOMContentLoaded', (event) => {
        // 當用戶點擊提交按鈕時處理留言提交邏輯
        document.getElementById('submitComment').addEventListener('click', () => {
            const memNo = document.getElementById('memNo').value;
            const artNo = document.getElementById('artNo').value;
            const commentText = document.getElementById('commentInput').value;
            if (commentText.trim() === "") {
                alert("請填寫留言內容！");
            } else {
                // 發送留言到伺服器端
                console.log("提交留言:", memNo, artNo, commentText);
                // 隱藏模態框
                $('#commentInputModal').modal('hide');
            }
        });

        // 確保取消按鈕和關閉按鈕都能夠正確關閉模態框
        document.querySelectorAll('[data-dismiss="modal"]').forEach((element) => {
            element.addEventListener('click', () => {
                $('#commentInputModal').modal('hide');
            });
        });
    });

    $(document).ready(function () {
        $('#submitComment').click(function () {
            var memNo = $('#memNo').val();
            var artNo = $('#artNo').val();
            var commentText = $('#commentInput').val();

            //發送 HTTP POST 請求
            $.ajax({
                type: 'POST',
                url: '/frontend/columnarticle/submitCommit',
                data: {
                    memNo: memNo,
                    artNo: artNo,
                    comContent: commentText
                },

                success: function (response) {
                    // 留言提交成功，更新會員介面或顯示提示消息
                    alert(response);
                    window.location.reload();
                },

                error: function (xhr, status, error) {
                    // 留言提交失敗，處理錯誤情況
                    console.error(xhr.responseText);
                    alert("留言提交失敗");
                }
            })
        })
    })
</script>

<!-- 隱藏的input元素來存儲memNo和artNo -->
<input type="hidden" id="memNo" />
<input type="hidden" id="artNo" />

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const autoLoginCheckbox = document.getElementById("customCheck");

        // 恢復 checkbox 狀態
        autoLoginCheckbox.checked = localStorage.getItem("like") === "true";

        // 監聽 checkbox 的變化並保存狀態
        autoLoginCheckbox.addEventListener("change", function() {
            localStorage.setItem("like", this.checked);
            if (this.checked) {
                this.value = "1";
            } else {
                this.value = "0";
            }
        });
    });
</script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        var messageText = document.getElementById("messageText1");
        if (messageText.textContent.trim() !== "") {
            setTimeout(function() {
                messageText.style.opacity = "1";
                messageText.style.transform = "translateY(0)";
            }, 100); // 延遲100毫秒以便更平滑地顯示動畫
        }
    });
</script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        var messageText = document.getElementById("messageText2");
        if (messageText.textContent.trim() !== "") {
            setTimeout(function() {
                messageText.style.opacity = "1";
                messageText.style.transform = "translateY(0)";
            }, 100); // 延遲100毫秒以便更平滑地顯示動畫
        }
    });
</script>

<!-- End script start -->

</html>