<!DOCTYPE html>
<html lang="zxx" data-bs-theme="light">

<head><!-- metas -->
    <meta charset="utf-8">
    <meta name="author" content="pxdraft">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
    <meta name="keywords" content="ShopApp - eCommerce Bootstrap 5 Template">
    <meta name="description" content="ShopApp - eCommerce Bootstrap 5 Template">
    <!-- title -->
    <title>ShopApp - eCommerce Bootstrap 5 Template</title>
    <!-- Favicon -->
    <link rel="shortcut icon" th:href="@{/logo/favicon.ico}">
    <!-- CSS Template -->
    <link th:href="@{/frontend/assets/css/style.css}" rel="stylesheet">
</head>

<body>
<!-- 通用插件 -->
<th:block th:replace="frontend/component/plugin/frontendplugin :: components"></th:block>
<!-- 通用插件 -->
    <!--
    ========================
        Wrapper
    ========================
    -->
    <div class="wrapper">
        <!-- heder height -->
        <div class="header-height-bar" style="min-height: 104.865px;"></div>
        <!-- Header -->
        <header th:replace="frontend/component/header :: header"></header>
        <!-- End Header -->
        <!-- Main -->
        <main><!-- Breadcrumb -->
            <div class="py-3 bg-gray-100">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-lg-6 my-2">
                            <h1 class="m-0 h4 text-center text-lg-start">Blog</h1>
                        </div>
                        <div class="col-lg-6 my-2">
                            <ol class="breadcrumb dark-link m-0 small justify-content-center justify-content-lg-end">
                                <li class="breadcrumb-item"><a class="text-nowrap" href="#"><i
                                            class="bi bi-home"></i>Home</a></li>
                                <li class="breadcrumb-item text-nowrap active" aria-current="page">Blog</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div><!-- End Breadcrumb --><!-- blog -->
            <div class="py-4 py-lg-6">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-8 my-3">
                            <article>
                                <div class="mb-5">
                                <h1 th:text="${columnArtice.artTitle}"></h1>
                                <div class="row" th:unless="${session.loginsuccess}">
                                    <div class="col-lg-6 my-3">
                                        <i class="bi bi-heart likeButton me-2" style="cursor: pointer;"></i>
                                        <i class="bi bi-chat-dots columnreplyButton me-2" style="cursor: pointer;"></i>
                                        <i class="bi bi-clipboard2-heart articlecollectionButton" style="cursor: pointer;"></i>
                                    </div>
                                </div>
                                <div class="row" th:if="${session.loginsuccess}">
                                    <div class="col-lg-6 my-3">
                                        <i class="bi bi-heart me-2" th:onclick="'likeArticle(' + ${session.loginsuccess.memNo} + ', ' + ${columnArtice.artNo} + ')'" style="cursor: pointer;"></i>
                                        <i class="bi bi-chat-dots me-2"   th:onclick="'showCommentInputModal(' + ${session.loginsuccess.memNo} + ', ' + ${columnArtice.artNo} + ')'" style="cursor: pointer;"></i>
                                        <i class="bi bi-clipboard2-heart" th:onclick="'columnArticleCollection(' + ${session.loginsuccess.memNo} + ', ' + ${columnArtice.artNo} + ')'" style="cursor: pointer;"></i>
                                    </div>
                                </div>
                                <p th:text="${columnArtice.artContent}" style="font-size: 20px"></p>
                                <p>
                                    In love's gentle embrace, we find our way,
                                    Through vows of forever, on this joyous day.
                                    With hearts entwined, a promise we make,
                                    A journey together, for love's sweet sake.

                                    The future before us, bright and clear,
                                    Hand in hand, we'll conquer every fear.
                                    With rings exchanged, our bond is sealed,
                                    In each other's love, we are healed.

                                    A bouquet of dreams, held close to heart,
                                    In this dance of life, we'll never part.
                                    With laughter and tears, joy and strife,
                                    We step into the promise of a shared life.

                                    In the warmth of your smile, my forever resides,
                                    In the depth of your eyes, endless love abides.
                                    As we say "I do," beneath the sky so blue,
                                    I promise my heart, my all, to you.
                                </p>
                                <div class="row g-2 lightbox-gallery pb-4 pt-3">
                                    <div class="col-4 my-2"><a class="gallery-link"
                                            href="../../assets/img/pages/about-1.jpg"><img class="img-fluid"
                                                src="../../assets/img/pages/about-1.jpg" title="" alt=""></a>
                                    </div>
                                </div>
                                <p>
                                    In love's gentle embrace, we find our way,
                                    Through vows of forever, on this joyous day.
                                    With hearts entwined, a promise we make,
                                    A journey together, for love's sweet sake.

                                    The future before us, bright and clear,
                                    Hand in hand, we'll conquer every fear.
                                    With rings exchanged, our bond is sealed,
                                    In each other's love, we are healed.

                                    A bouquet of dreams, held close to heart,
                                    In this dance of life, we'll never part.
                                    With laughter and tears, joy and strife,
                                    We step into the promise of a shared life.

                                    In the warmth of your smile, my forever resides,
                                    In the depth of your eyes, endless love abides.
                                    As we say "I do," beneath the sky so blue,
                                    I promise my heart, my all, to you.
                                </p>
                                <ol class="list-type-01 list-unstyled pt-2 mb-4">
                                    <li>Elegance and charm in every detail, creating timeless memories.</li>
                                    <li>Celebrate love with breathtaking decor and flawless execution.</li>
                                    <li>Crafting unforgettable moments with personalized touches.</li>
                                    <li>Romantic ambiance and exquisite design for your special day.</li>
                                    <li>Transforming dreams into reality with seamless coordination and passion.</li>
                                </ol>
                                </div>
                            </article>
                            <div class="row separated mt-8 g-0">
                                <div class="col-6 py-3 pe-3"><label class="w-100 mb-1 small">PREVIOUS POST</label> <a
                                        class="h5" href="#">Turning your emergency donation into instant aid</a></div>
                                <div class="col-6 text-end ps-3 py-3"><label class="w-100 mb-1 small">NEXT POST</label>
                                    <a class="h5" href="#">Turning your emergency donation into instant aid</a></div>
                            </div>
                            <div class="py-4 my-5 border-top border-bottom">
                                <div class="row align-items-center">
                                    <div class="col-8">
                                        <div class="media d-flex align-items-center">
                                            <div class="avatar rounded-circle"><img class="img-fluid"
                                                    src="../../assets/img/pages/team-1.jpg" title="" alt=""></div>
                                            <div class="col ps-3">作者
                                                <h6 class="mb-1" th:text="${columnArtice.administrator.admName}"></h6>
                                                <span th:text="${columnArtice.artTime}"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="nav justify-content-end align-items-center"><a
                                                class="icon icon-sm rounded-circle icon-primary ms-2" href="#"><i
                                                    class="bi bi-facebook"></i> </a><a
                                                class="icon icon-sm rounded-circle icon-primary ms-2" href="#"><i
                                                    class="bi bi-twitter"></i> </a><a
                                                class="icon icon-sm rounded-circle icon-primary ms-2" href="#"><i
                                                    class="bi bi-instagram"></i> </a><a
                                                class="icon icon-sm rounded-circle icon-primary ms-2" href="#"><i
                                                    class="bi bi-linkedin"></i></a></div>
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <h4 th:text="${responseCount}" class="me-3"></h4>
                                </div>
                                <button id="toggleRepliesBtn" class="btn btn-primary mb-3" style="background-color: #f44336; border: 1px solid #d32f2f; color: white; font-weight: bold; transition: background-color 0.3s, border-color 0.3s, color 0.3s; padding: 5px 10px;">
                                    <i class="bi bi-eye-slash" style="font-size: smaller;"></i> 影藏留言
                                </button>
                            </div>
                            <ul class="list-unstyled pt-4" id="repliesSection">
                                <li th:each="columnreply : ${columnReplies}" class="media d-flex align-items-start mb-2"> <!-- 加入 mb-2 減少間距 -->
                                    <div class="media-body col ps-3 d-flex">
                                        <div class="me-3">
                                            <img th:src="@{/frontend/member/picture(memno=${columnreply.member.memNo})}"
                                                 style="width: 80px; height: 80px; border: 1px solid #ccc;" alt="會員大頭貼">
                                        </div>
                                        <div class="flex-grow-1">
                                            <h6 th:text="${columnreply.member.memName}"></h6>
                                            <label th:text="${columnreply.comTime}" class="mb-2 small"></label>
                                            <p th:text="${columnreply.comContent}"></p>
                                        </div>
                                        <div class="nav text-mode small ms-auto align-self-end">
                                            <a href="#" class="text-reset me-3">
                                                <i class="fi-heart"></i> Likes
                                            </a>
                                            <a class="text-mode" href="#">
                                                <i class="bi bi-reply"></i> Replay
                                            </a>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                            <div class="mt-8 border p-4">
                                <h4 class="mb-4">Leave a Reply</h4>
                                <form method="post">
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group mb-3">
                                                <label class="form-label rd-input-label" for="contact-name">Name</label>
                                                <input id="contact-name" type="text" name="name" class="form-control">
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group mb-3">
                                                <label class="form-label rd-input-label" for="contact-phone">Your Email</label>
                                                <input id="contact-phone" type="email" name="text" class="form-control">
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="form-group mb-3">
                                                <label class="form-label rd-input-label" for="contact-message">Your Comment</label>
                                                <textarea class="form-control" id="contact-message" name="message" rows="6"></textarea>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <button class="btn btn-primary" type="submit" name="send">Send Message</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <div class="col-lg-4 my-3 ps-xl-9">
                            <div class="card">
                                <div class="card-header bg-transparent border-bottom p-3"><span
                                        class="h5 m-0">Search</span>
                                </div>
                                <div class="card-body p-3">
                                    <form class="d-flex input-group">
                                        <input type="email" class="form-control" placeholder="Search">
                                        <button class="btn btn-primary flex-shrink-0" type="submit">
                                            <i class="fi-search"></i>
                                        </button>
                                    </form>
                                </div>
                            </div>
                            <div class="card mt-5">
                                <div class="card-header bg-transparent border-bottom p-3"><span
                                        class="h5 m-0">Categories</span></div>
                                <div class="list-group list-group-flush"><a href="#"
                                        class="list-group-item list-group-item-action d-flex justify-content-between py-3">
                                        <div><span>Theme integration</span></div>
                                        <div><i class="bi bi-chevron-right"></i></div>
                                    </a><a href="#"
                                        class="list-group-item list-group-item-action d-flex justify-content-between py-3">
                                        <div><span>Customization</span></div>
                                        <div><i class="bi bi-chevron-right"></i></div>
                                    </a><a href="#"
                                        class="list-group-item list-group-item-action d-flex justify-content-between py-3">
                                        <div><span>Fonts and colors</span></div>
                                        <div><i class="bi bi-chevron-right"></i></div>
                                    </a><a href="#"
                                        class="list-group-item list-group-item-action d-flex justify-content-between py-3">
                                        <div><span>Updates</span></div>
                                        <div><i class="bi bi-chevron-right"></i></div>
                                    </a><a href="#"
                                        class="list-group-item list-group-item-action d-flex justify-content-between py-3">
                                        <div><span>Premium support</span></div>
                                        <div><i class="bi bi-chevron-right"></i></div>
                                    </a></div>
                            </div>
                            <div class="card mt-5">
                                <div class="card-header bg-transparent border-bottom p-3"><span class="h5 m-0">Recent
                                        Posts</span></div>
                                <div class="list-group list-group-flush"><a href="#"
                                        class="list-group-item list-group-item-action d-flex py-3">
                                        <div class="avatar rounded overflow-hidden"><img class="img-fluid"
                                                src="../../assets/img/pages/avatar-1.jpg" title="" alt=""></div>
                                        <div class="ps-3">
                                            <p class="m-0 font-w-500">How to make trust your competitive
                                                advantage</p>
                                        </div>
                                    </a><a href="#" class="list-group-item list-group-item-action d-flex py-3">
                                        <div class="avatar rounded overflow-hidden"><img class="img-fluid"
                                                src="../../assets/img/pages/avatar-2.jpg" title="" alt=""></div>
                                        <div class="ps-3">
                                            <p class="m-0 font-w-500">How to make trust your competitive
                                                advantage</p>
                                        </div>
                                    </a><a href="#" class="list-group-item list-group-item-action d-flex py-3">
                                        <div class="avatar rounded overflow-hidden"><img class="img-fluid"
                                                src="../../assets/img/pages/avatar-3.jpg" title="" alt=""></div>
                                        <div class="ps-3">
                                            <p class="m-0 font-w-500">How to make trust your competitive
                                                advantage</p>
                                        </div>
                                    </a><a href="#" class="list-group-item list-group-item-action d-flex py-3">
                                        <div class="avatar rounded overflow-hidden"><img class="img-fluid"
                                                src="../../assets/img/pages/avatar-4.jpg" title="" alt=""></div>
                                        <div class="ps-3">
                                            <p class="m-0 font-w-500">How to make trust your competitive
                                                advantage</p>
                                        </div>
                                    </a></div>
                            </div>
                            <div class="card mt-5">
                                <div class="card-header bg-transparent border-bottom p-3"><span
                                        class="h5 m-0">Tags</span>
                                </div>
                                <div class="card-body p-3">
                                    <div class="nav tag-cloud"><a
                                            class="rounded-pill px-3 small font-w-500 py-1 bg-gray-200 me-1 mb-1 text-mode"
                                            href="#">Design</a> <a
                                            class="rounded-pill px-3 small font-w-500 py-1 bg-gray-200 me-1 mb-1 text-mode"
                                            href="#">Development</a> <a
                                            class="rounded-pill px-3 small font-w-500 py-1 bg-gray-200 me-1 mb-1 text-mode"
                                            href="#">Travel</a> <a
                                            class="rounded-pill px-3 small font-w-500 py-1 bg-gray-200 me-1 mb-1 text-mode"
                                            href="#">Web Design</a> <a
                                            class="rounded-pill px-3 small font-w-500 py-1 bg-gray-200 me-1 mb-1 text-mode"
                                            href="#">Marketing</a> <a
                                            class="rounded-pill px-3 small font-w-500 py-1 bg-gray-200 me-1 mb-1 text-mode"
                                            href="#">Research</a> <a
                                            class="rounded-pill px-3 small font-w-500 py-1 bg-gray-200 me-1 mb-1 text-mode"
                                            href="#">Managment</a></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- blog end -->
        </main>
        <!-- End Main -->
        <!-- Footer -->
        <footer th:replace="frontend/component/footer :: footer"></footer>
        <!-- End Footer -->
    </div>
    <!--
    ========================
       End Wrapper
    ========================
    -->
    <!-- script start -->
    <th:block th:insert="~{frontend/component/plugin/frontendplugin.html :: js}"></th:block>
    <!-- End script start -->
    <!-- 點讚登入提醒模態框 -->
    <div class="modal fade" id="loginReminderModal" tabindex="-1" aria-labelledby="loginReminderModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="loginReminderModalLabel">未登入提醒</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>您尚未登入，無法點讚。請先登入您的帳戶。</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">關閉</button>
                    <a href="/frontend/member/loginMember" class="btn btn-primary">立即登入</a>
                </div>
            </div>
        </div>
    </div>
    <!-- End 登入提醒模態框 -->
    <!-- 留言登入提醒模態框 -->
    <div class="modal fade" id="loginColumnReplyReminderModal" tabindex="-1" aria-labelledby="loginReminderModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="loginColumnReplyReminderModalLabel">未登入提醒</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>您尚未登入，無法留言。請先登入您的帳戶。</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">關閉</button>
                    <a href="/frontend/member/loginMember" class="btn btn-primary">立即登入</a>
                </div>
            </div>
        </div>
    </div>
    <!-- End 登入提醒模態框 -->
    <!-- 留言登入提醒模態框 -->
    <div class="modal fade" id="loginArticleCollectionReminderModal" tabindex="-1" aria-labelledby="loginReminderModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="loginArticleCollectionReplyReminderModalLabel">未登入提醒</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>您尚未登入，無法收藏。請先登入您的帳戶。</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">關閉</button>
                    <a href="/frontend/member/loginMember" class="btn btn-primary">立即登入</a>
                </div>
            </div>
        </div>
    </div>
    <!-- End 登入提醒模態框 -->
    <!-- 點讚成功模態框結構 -->
    <div class="modal" id="likeModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">點讚成功</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>您已成功點讚該文章。</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">關閉</button>
                </div>
            </div>
        </div>
    </div>
    <!-- 重複點讚導致點讚失敗提示模態框結構 -->
    <div class="modal" id="errorModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">重複點讚</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <!--                    <p>已點讚過，請勿重複點讚。</p>-->
                    <p>已再次收到你的點讚，感謝支持。</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">關閉</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal" id="columnArticleCollectionModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">收藏成功</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>您已成功收藏該文章。</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">關閉</button>
                </div>
            </div>
        </div>
    </div>
    <!-- 重複點讚導致點讚失敗提示模態框結構 -->
    <div class="modal" id="columnArticleCollectionErrorModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">收藏失敗</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>已收藏過，請勿重複收藏，請到收藏區，取消收藏。</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">關閉</button>
                </div>
            </div>
        </div>
    </div>
    <!-- 留言輸入模態框 -->
    <div class="modal fade" id="commentInputModal" tabindex="-1" role="dialog" aria-labelledby="commentInputModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="commentInputModalLabel">留言</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <textarea id="commentInput" class="form-control" placeholder="請輸入留言內容" rows="4"></textarea>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button>
                    <button type="button" id="submitComment" class="btn btn-primary">提交</button>
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    // 定義點讚的函數，接收文章编號作為參數
    function likeArticle(memNo, artNo) {

        // 如果用戶已登入
        // 發送POST請求，將文章編號作為URL的一部分
        fetch(`/frontend/columnarticle/like/${memNo}/${artNo}`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            // 如果需要帶上身份驗證信息，可以在這裡設置
            credentials: 'include'
        })
            .then(response => {
                if (response.ok) {
                    // 成功處理後的操作，例如更新界面顯示
                    $('#likeModal').modal('show'); // 顯示模態框

                    // 監聽模態框關閉事件
                    $('#likeModal').on('hidden.bs.modal', function () {
                        // 模態框關閉後重新加載頁面
                        location.reload();
                    });

                    // 綁定右上角叉叉按鈕的點擊事件
                    $('.close').click(function() {
                        // 關閉所屬的模態框
                        $(this).closest('.modal').modal('hide');
                    });
                    // 綁定關閉按鈕的點擊事件
                    $('.modal-footer .btn-secondary').click(function() {
                        // 關閉所屬的模態框
                        $(this).closest('.modal').modal('hide');
                    });
                    // 請求成功，處理成功響應
                    return response.text(); // 返回成功消息
                } else {
                    // 錯誤處理，顯示點讚失敗的模態框
                    $('#errorModal').modal('show');
                    // 綁定右上角叉叉按鈕的點擊事件
                    $('.close').click(function() {
                        // 關閉所屬的模態框
                        $(this).closest('.modal').modal('hide');
                    });
                    // 綁定關閉按鈕的點擊事件
                    $('.modal-footer .btn-secondary').click(function() {
                        // 關閉所屬的模態框
                        $(this).closest('.modal').modal('hide');
                    });
                    // 請求失敗，處理錯誤響應
                    return response.text(); // 返回失敗消息
                }
            })
            .then(data => {
                // 成功處理後的操作，例如更新界面顯示
                console.log(data); // 打印成功消息
            })
            .catch(error => {
                // 錯誤處理，例如顯示錯誤信息給用戶
                console.error(error.message); // 打印錯誤消息
            });
    }
</script>
<script>
    //定義收藏的函數，接收文章編號作為參數
    function columnArticleCollection(memNo, artNo) {

        // 如果用戶已登入
        // 發送 POST 請求，將文章編號作為 URL 的一部分
        fetch(`/frontend/columnarticle/columnArticleCollection/${memNo}/${artNo}`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            // 如果需要帶上身份驗證信息，可以在這裡設置
            credentials: 'include'
        })
            .then(response => {
                if (response.ok) {
                    // 成功處理後的操作，例如更新界面顯示
                    $('#columnArticleCollectionModal').modal('show'); // 顯示模態框

                    // 監聽模態框關閉事件
                    $('#columnArticleCollectionModal').on('hidden.bs.modal', function () {
                        // 模態框關閉後重新加載頁面
                        location.reload();
                    });

                    // 綁定右上角叉叉按鈕的點擊事件
                    $('.close').click(function() {
                        // 關閉所屬的模態框
                        $(this).closest('.modal').modal('hide');
                    });
                    // 綁定關閉按鈕的點擊事件
                    $('.modal-footer .btn-secondary').click(function() {
                        // 關閉所屬的模態框
                        $(this).closest('.modal').modal('hide');
                    });
                    // 請求成功，處理成功響應
                    return response.text(); // 返回成功消息
                } else {
                    // 錯誤處理，顯示點讚失敗的模態框
                    $('#columnArticleCollectionErrorModal').modal('show');
                    // 綁定右上角叉叉按鈕的點擊事件
                    $('.close').click(function() {
                        // 關閉所屬的模態框
                        $(this).closest('.modal').modal('hide');
                    });
                    // 綁定關閉按鈕的點擊事件
                    $('.modal-footer .btn-secondary').click(function() {
                        // 關閉所屬的模態框
                        $(this).closest('.modal').modal('hide');
                    });
                    // 請求失敗，處理錯誤響應
                    return response.text(); // 返回失敗消息
                }
            })
            .then(data => {
                // 成功處理後的操作，例如更新界面顯示
                console.log(data); // 打印成功消息
            })
            .catch(error => {
                // 錯誤處理，例如顯示錯誤信息給用戶
                console.error(error.message); // 打印錯誤消息
            });
    }
</script>
<script>
    $(document).ready(function() {
        // 當文檔加載完成時
        // 將點擊事件綁定到喜歡按鈕
        $('.likeButton').click(function() {
            // 當用戶未登錄時，彈出登錄提醒模態框
            $('#loginReminderModal').modal('show');
        });

        // 將點擊事件綁定到關閉按鈕
        $("#loginReminderModal .close, #loginReminderModal .modal-footer .btn-secondary").click(function () {
            $("#loginReminderModal").modal("hide"); // 隱藏模態框
        });
    });
</script>
<script>
    $(document).ready(function() {
        // 當文檔加載完成時
        // 將點擊事件綁定到文章回覆按鈕
        $('.columnreplyButton').click(function() {
            // 當用戶未登錄時，彈出登錄提醒模態框
            $('#loginColumnReplyReminderModal').modal('show');
        });

        // 將點擊事件綁定到關閉按鈕
        $("#loginColumnReplyReminderModal .close, #loginColumnReplyReminderModal .modal-footer .btn-secondary").click(function () {
            $("#loginColumnReplyReminderModal").modal("hide"); // 隱藏模態框
        });
    });
</script>
<script>
    $(document).ready(function() {
        // 當文檔加載完成時
        // 將點擊事件綁定到文章收藏按鈕
        $('.articlecollectionButton').click(function() {
            // 當用戶未登錄時，彈出登錄提醒模態框
            $('#loginArticleCollectionReminderModal').modal('show');
        });

        // 將點擊事件綁定到關閉按鈕
        $("#loginArticleCollectionReminderModal .close, #loginArticleCollectionReminderModal .modal-footer .btn-secondary").click(function () {
            $("#loginArticleCollectionReminderModal").modal("hide"); // 隱藏模態框
        });
    });
</script>
<script>
    function openModal() {
        var modal = document.getElementById("myModal");
        modal.style.display = "block";
    }

    function closeModal() {
        var modal = document.getElementById("myModal");
        modal.style.display = "none";
    }

    function sendMessage() {
        var messageInput = document.getElementById("messageInput");
        var message = messageInput.value;
        // 在這裡執行發送消息的操作，可以是 Ajax 請求等
        console.log("發送的消息：", message);
        // 清空輸入框並隱藏模態
        messageInput.value = "";
        closeModal();
    }

    // 當用戶點擊模態之外的區域，關閉模態
    window.onclick = function(event) {
        var modal = document.getElementById("myModal");
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
</script>
<script>
    // 顯示模態框的函數
    function showCommentInputModal(memNo, artNo) {
        $('#commentInputModal').modal('show');
        // 將memNo和artNo設置為隱藏的input元素的值
        document.getElementById('memNo').value = memNo;
        document.getElementById('artNo').value = artNo;
    }

    document.addEventListener('DOMContentLoaded', (event) => {
        // 當用戶點擊提交按鈕時處理留言提交邏輯
        document.getElementById('submitComment').addEventListener('click', () => {
            const memNo = document.getElementById('memNo').value;
            const artNo = document.getElementById('artNo').value;
            const commentText = document.getElementById('commentInput').value;
            if (commentText.trim() === "") {
                alert("請填寫留言內容！");
            } else {
                // 發送留言到伺服器端
                console.log("提交留言:", memNo, artNo, commentText);
                // 隱藏模態框
                $('#commentInputModal').modal('hide');
            }
        });

        // 確保取消按鈕和關閉按鈕都能夠正確關閉模態框
        document.querySelectorAll('[data-dismiss="modal"]').forEach((element) => {
            element.addEventListener('click', () => {
                $('#commentInputModal').modal('hide');
            });
        });
    });

    $(document).ready(function () {
        $('#submitComment').click(function () {
            var memNo = $('#memNo').val();
            var artNo = $('#artNo').val();
            var commentText = $('#commentInput').val();

            //發送 HTTP POST 請求
            $.ajax({
                type: 'POST',
                url: '/frontend/columnarticle/submitCommit',
                data: {
                    memNo: memNo,
                    artNo: artNo,
                    comContent: commentText
                },

                success: function (response) {
                    // 留言提交成功，更新會員介面或顯示提示消息
                    alert(response);
                    window.location.reload();
                },

                error: function (xhr, status, error) {
                    // 留言提交失敗，處理錯誤情況
                    console.error(xhr.responseText);
                    alert("留言提交失敗");
                }
            })
        })
    })
</script>

<!-- 隱藏的input元素來存儲memNo和artNo -->
<input type="hidden" id="memNo" />
<input type="hidden" id="artNo" />

<script>
    const toggleRepliesBtn = document.getElementById('toggleRepliesBtn');
    const repliesSection = document.getElementById('repliesSection');

    toggleRepliesBtn.addEventListener('click', function() {
        if (repliesSection.style.display === 'none') {
            repliesSection.style.display = 'block';
            toggleRepliesBtn.innerHTML = '<i class="bi bi-eye"></i> 影藏留言';
        } else {
            repliesSection.style.display = 'none';
            toggleRepliesBtn.innerHTML = '<i class="bi bi-eye-slash"></i> 顯示留言';
        }
    });
</script>


</html>