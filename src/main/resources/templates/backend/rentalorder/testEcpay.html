<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>綠界支付測試</title>


    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

</head>
<body>
<!--<input type="button" value="測試綠屆" onclick="post()">-->
<button class="btn" type="button">進行綠界測試</button>
<!-- 動態加載的表單將放在這個div中 -->
<div id="ecpayFormContainer"></div>

<script>
    // document.querySelector("button.btn").addEventListener("click", function () {
    //     fetch("/backend/rentalorder/ecpayCheckout", {
    //         method: "POST", // 指定是POST請求
    //         headers: {
    //             "Content-Type" : "application/x-www-form-urlencoded",
    //             "Accept": "text/html"// 預期返回的是HTML
    //         }
    //     })
    //         .then(response => response.text()) // 將回應轉為text
    //         .then(html => {
    //             // 將回傳的HTML表單放到頁面中
    //             var formContainer = document.getElementById("ecpayFormContainer");
    //             formContainer.innerHTML = html;
    //             // 自動提交表單，如果表單自帶JavaScript自動提交則不需要這行
    //             // formContainer.querySelector('form').submit();
    //         })
    //         .catch(error => {
    //             console.error('Error:', error);
    //         });
    // })



        // 定義 POST 函數
        // function post() {
        // // 通過 Axios 發送異步 POST 請求
        // axios.post("http://localhost:8080/backend/rentalorder/ecpayCheckout", {id: 1})
        //     .then(response => {
        //         // 成功處理響應時打印數據到控制台
        //         let block_el = document.getElementById("block");
        //         block_el.innerHTML = response.data;
        //
        //         let form_el = document.getElementById("allPayAPIForm");
        //         form_el.submit();
        //     })
        //     .catch(error => {
        //         // 處理錯誤
        //         console.error("Error posting data:", error);
        //     });
        // }

    // document.querySelector("button.btn").addEventListener("click", post());

</script>

</body>
</html>
